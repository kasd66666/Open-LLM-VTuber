# DigitalOcean App Platform deployment
name: open-llm-vtuber
services:
- name: vtuber-app
  source_dir: /
  github:
    repo: your-username/Open-LLM-VTuber
    branch: main
  run_command: python3 run_server.py
  environment_slug: python
  instance_count: 1
  instance_size_slug: professional-s  # 1GB RAM, 1 vCPU
  
  envs:
  - key: PORT
    value: "12393"
  - key: PYTHONUNBUFFERED
    value: "1"
  
  routes:
  - path: /
  
  health_check:
    http_path: /health
    initial_delay_seconds: 60
    period_seconds: 30
    timeout_seconds: 10
    success_threshold: 1
    failure_threshold: 3

# Database per persistenza (opzionale)
databases:
- name: vtuber-redis
  engine: REDIS
  version: "7"
  size: db-s-dev-database  # 1GB RAM

# Static site per frontend (se separato)
static_sites:
- name: vtuber-frontend
  source_dir: /frontend
  github:
    repo: your-username/Open-LLM-VTuber
    branch: main
  build_command: echo "Static files ready"
  output_dir: /frontend
  
  routes:
  - path: /static
